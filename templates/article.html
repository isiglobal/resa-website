{% extends "BASE.html" %}
{% set pageName = 'ArticleListPage' %}
{% block title %}Welcome to West GA RESA{% endblock %}

{% block extraBody %}
<script type="text/javascript">
  window.article = new Article({
    id: {{article.id}},
    datetime_added: '{{article.datetime_added}}',
    datetime_edited: '{{article.datetime_added}}',
    title: '{{article.title}}',
    url_key: '{{article.url_key}}',
    content_mkdown: '{{article.content_mkdown|use_in_js}}',
    content_html: '{{article.content_html|use_in_js|safe}}',
  });
  /*window.articleview = new ArticleView({
    model: window.article,
  });*/
  window.editTextarea = new EditableContentView({
    model: window.article,
    el: '.contentWrap',
    displayEl: '.content',
    editableField: 'content_mkdown',
    displayableField: 'content_html',
  });
</script>
{% endblock extraBody %}

{% block body %}
  <div id="article" data-id="{{article.id}}">

    <!-- Title components -->
    <h1 class="title"></h1>
    <input class="title_edit" type="text" value="">
    <a href="#" class="title_edit_link">edit</a>
    <br>
    <br>

    <!-- Contents components -->
    <div class="contentWrap">
      <div class="content"></div>
      <textarea class="content_edit"></textarea>
      <br>
      <a href="#" class="content_edit_link">edit</a>
    </div>
  </div>
{% endblock body %}

